<div id="main" class="container">

  <movie-base-navbar> </movie-base-navbar>

  <form class="col-xs-12" role="form">           
    <div class="form-group"> 
      <input ng-model="main.titleFilter" type="text" class="form-control" placeholder="Search by title">
    </div>
  </form>

  <div class="sortBy col-xs-12">   
    <span>Title<i ng-click="main.sortMovie('title',false)" class="glyphicon glyphicon-chevron-down"></i><i ng-click="main.sortMovie('title',true)" class="glyphicon glyphicon-chevron-up"></i></span>
    <span>Director<i ng-click="main.sortMovie('director',false)" class="glyphicon glyphicon-chevron-down"></i><i ng-click="main.sortMovie('director',true)" class="glyphicon glyphicon-chevron-up"></i></span>   
    <span>Year<i ng-click="main.sortMovie('year',false)" class="glyphicon glyphicon-chevron-down"></i><i ng-click="main.sortMovie('year',true)" class="glyphicon glyphicon-chevron-up"></i></span>
    <span>Date added<i ng-click="main.sortMovie('created_at',false)" class="glyphicon glyphicon-chevron-down"></i><i ng-click="main.sortMovie('created_at',true)" class="glyphicon glyphicon-chevron-up"></i></span>
  </div>

  <movie-card ng-repeat="movie in main.movies | filter: { title: main.titleFilter } | orderBy: main.movieSortType: main.movieSortReverse"></movie-card>

  <div class="spinner" ng-show="main.isLoading">
    <img src="assets/images/loading_spinner.gif">
  </div>


  <!-- Movie Edit/Delete Modal -->
  <div id="movieModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title">
            <span ng-show="main.editingModal">Edit Movie</span> 
            <span ng-show="main.deletingModal">Delete Movie</span>
          </h2>
        </div>
        <div class="modal-body">
          
          <form ng-show="main.editingModal" role="form">
            <div class="form-group">
              <label for="title"><span class="glyphicon glyphicon-film"></span> Title</label>
              <input ng-model="main.editingMovie.title" type="text" class="form-control" id="title">
            </div>
            <div class="form-group">
              <label for="director"><span class="glyphicon glyphicon-user"></span> Director</label>
              <input ng-model="main.editingMovie.director" type="text" class="form-control" id="director">
            </div>
            <div class="form-group">
              <label for="actors"><span class="glyphicon glyphicon-camera"></span> Actors</label>
              <input ng-model="main.editingMovie.actors" type="text" class="form-control" id="actors">
            </div>
            <div class="form-group">
              <label for="year"><span class="glyphicon glyphicon-time"></span> Year</label>
              <input ng-model="main.editingMovie.year" type="text" class="form-control" id="year">
            </div>
              <button ng-click="main.editMovie()" class="btn saveBtn btn-block"><span class="glyphicon glyphicon-saved"></span> Save</button>
          </form>

          <div ng-show="main.deletingModal">
            <p>Are you sure that you want to permanently delete the selected movie?</p>
            <button ng-click="main.deleteMovie()" class="btn deleteBtn btn-block"><span class="glyphicon glyphicon-remove"></span> Delete</button>
          </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>



</div>
